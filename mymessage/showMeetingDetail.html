<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/common.css" />
		<link rel="stylesheet" href="../js/bootstrap-3.4.1-dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../js/bootstrap-3.4.1-dist/css/demo.css" />
		<script type="text/javascript" src="../js/jquery-1.11.0.js" ></script>
		<script type="text/javascript" src="../js/bootstrap-3.4.1-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap-3.4.1-dist/js/paginathing.js" ></script>
		<script type="text/javascript" src="../js/common.js" ></script>
		<script type="text/javascript">
			window.onload = function() {
				var meetingJsonArray = window.parent.meetingJsonArray;
				var meetingroomJsonArray = window.parent.meetingroomJsonArray;
				var employeeJsonArray = window.parent.employeeJsonArray;
			    what();
			    function what(){
					var id = getParam("id")
					for(var i = 0 ;i<meetingJsonArray.length;i++){
						var meeting = meetingJsonArray[i];
						if(meeting != undefined && meeting.id == id){
							break;
						}
					}
					// alert(meeting.id);
					var eleId = document.getElementById('meetingId');
					eleId.innerHTML = meeting.id;
					var eleTitle = document.getElementById('meetingTitle');
					eleTitle.innerHTML = meeting.title;
					var eleNum = document.getElementById('meetingNum');
					eleNum.innerHTML = meeting.num;
					var eleStarttime = document.getElementById('meetingStarttime');
					eleStarttime.innerHTML = meeting.starttime;
					var eleEndtime = document.getElementById('meetingEndtime');
					eleEndtime.innerHTML = meeting.endtime;
					var eleScheduletime = document.getElementById('meetingScheduletime');
					eleScheduletime.innerHTML = meeting.scheduledtime;
					
					var eleRoom = document.getElementById('meetingRoom');
					var meetingroomName=meetingroomJsonArray[0].name+"（位置"+meetingroomJsonArray[0].housenum+")";
					for(var i=0;i<meetingroomJsonArray.length;i++){
						if(meetingroomJsonArray[i].id==meeting.mid){
							meetingroomName=meetingroomJsonArray[i].name+"（位置"+meetingroomJsonArray[i].housenum+")";
							break;
						}
					}
					eleRoom.innerHTML = meetingroomName;
					
					var eleLeader = document.getElementById('meetingLeader');
					var meetingLeader=employeeJsonArray[0].name;
					for(var i=0;i<employeeJsonArray.length;i++){
						if(employeeJsonArray[i].id==meeting.eid){
							meetingLeader=employeeJsonArray[i].name;
							break;
						}
					}
					eleLeader.innerHTML = meetingLeader;
					
					var elePerson = document.getElementById('meetingPerson');
					var meetingPerson="发起人:"+meetingLeader+",与会人:";
					for(var i=0;i<employeeJsonArray.length;i++){
						if(meeting.participants.indexOf(employeeJsonArray[i].id)!=-1){
							meetingPerson=meetingPerson+" "+employeeJsonArray[i].name;
						}
					}
					elePerson.innerHTML = meetingPerson;
					
					var eleSum = document.getElementById('meetingSum');
					eleSum.innerHTML = meeting.remark;
			    };
			}
		</script>
		
	</head>
	<body>
		
		<div style="width: 95%;margin: 0 auto;">
		<!--表格区域，采用boostrap表格实现-->
		<table class="table table-striped table-bordered table-hover table-condensed">
		  <thead>
		    <tr>
		      <th scope="col">项目</th>
			  <th scope="col">内容</th>
		    </tr>
		  </thead>
		  <tbody>
			<tr>
				<th scope="row">会议编号</th>
				<td id="meetingId"></td>
			</tr>
			<tr>
				<th scope="row">会议名称</th>
				<td id="meetingTitle"></td>
			</tr>
			<tr>
				<th scope="row">会议人数</th>
				<td id="meetingNum"></td>
			</tr>
			<tr>
				<th scope="row">会议开始时间</th>
				<td id="meetingStarttime"></td>
			</tr>
			<tr>
				<th scope="row">会议结束时间</th>
				<td id="meetingEndtime"></td>
			</tr>
			<tr>
				<th scope="row">会议预定时间</th>
				<td id="meetingScheduletime"></td>
			</tr>
			<tr>
				<th scope="row">会议室</th>
				<td id="meetingRoom"></td>
			</tr>
			<tr>
				<th scope="row">会议概要</th>
				<td id="meetingSum"></td>
			</tr>
			<tr>
				<th scope="row">会议发起人</th>
				<td id="meetingLeader"></td>
			</tr>
			<tr>
				<th scope="row">会议参与者</th>
				<td id="meetingPerson"></td>
			</tr>
		  <!--  <tr>
		      <td><input type="checkbox" /></td>
		      <td>测试部</td>
		      <td>测试部描述</td>
		      <td><img src="../img/update.gif" /></td>
		    </tr>
		    <tr>
		      <td><input type="checkbox" /></td>
		      <td>市场部</td>
		      <td>市场部描述</td>
		      <td><img src="../img/update.gif" /></td>
		    </tr>
		    <tr>
		      <td><input type="checkbox" /></td>
		      <td>开发部</td>
		      <td>开发部描述</td>
		      <td><img src="../img/update.gif" /></td>
		    </tr> -->
		  </tbody>
		</table>
		</div>
		
		<div>
		  <!--分页区域，采用bootstrap分页-->
		<!--  <ul class="pagination" style="float: right;margin-right: 20px;">
			    <li><a href="#">&laquo;</a></li>
			    <li class="active"><a href="#">1</a></li>
			    <li><a href="#">2</a></li>
			    <li><a href="#">3</a></li>
			    <li><a href="#">4</a></li>
			    <li><a href="#">5</a></li>
			    <li><a href="#">&raquo;</a></li>
			</ul> -->
		</div>
		
	</body>
</html>

